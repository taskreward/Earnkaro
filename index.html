<!-- Full updated code with login page, avatar upload, KPI local storage, claim button timing logic, and task sections -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f0f0f;
      --card-bg: #1c1c1e;
      --text-primary: #fff;
      --text-secondary: #aaa;
      --accent: #ffd700;
      --button-bg: #222;
      --button-disabled: #555;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: var(--bg);
      color: var(--text-primary);
    }
    .login-container, .dashboard-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .card {
      background-color: var(--card-bg);
      padding: 20px;
      margin: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 400px;
    }
    .card h3 {
      margin-top: 0;
    }
    .avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
    }
    .task {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .btn {
      background-color: var(--accent);
      border: none;
      padding: 10px 20px;
      color: var(--bg);
      cursor: pointer;
      border-radius: 5px;
    }
    .btn.disabled {
      background-color: var(--button-disabled);
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<div class="dashboard-container" id="dashboard">
  <div class="card">
    <h3>Daily Tasks</h3>
    <div id="daily-tasks"></div>
  </div>
  <div class="card">
    <h3>Missions</h3>
    <div id="missions"></div>
  </div>
  <div class="card">
    <h3>Earn More</h3>
    <p>More ways to earn coming soon!</p>
  </div>
</div>

<script>
  const taskCooldown = 25 * 60 * 60 * 1000; // 25 hours
  const claimDelay = 3 * 60 * 1000; // 3 minutes

  const tasks = [
    { id: 'task1', name: 'Watch Video', amount: 12 },
    { id: 'task2', name: 'Signup Offer', amount: 13 },
    { id: 'task3', name: 'Daily Checkin', amount: 14 },
    { id: 'task4', name: 'Survey Complete', amount: 15 },
    { id: 'task5', name: 'Referral Bonus', amount: 13 },
    { id: 'task6', name: 'Spin Game', amount: 12 }
  ];

  const missions = [
    { id: 'mission1', name: 'Win 3 games', amount: 15 },
    { id: 'mission2', name: 'Invite 2 friends', amount: 15 },
    { id: 'mission3', name: 'Complete profile', amount: 15 },
    { id: 'mission4', name: 'Play for 30 min', amount: 15 }
  ];

  function renderTasks(containerId, taskArray, type) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    taskArray.forEach(task => {
      const div = document.createElement('div');
      div.className = 'task';
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.innerText = 'Claim â‚¹' + task.amount;
      const key = `${type}_${task.id}`;
      const data = JSON.parse(localStorage.getItem(key)) || {};
      const now = Date.now();
      if (data.claimedAt && now - data.claimedAt < claimDelay) {
        btn.innerText = 'Processing...';
        btn.disabled = true;
        btn.classList.add('disabled');
      } else if (data.claimedAt && now - data.claimedAt < taskCooldown) {
        btn.innerText = 'Claimed';
        btn.disabled = true;
        btn.classList.add('disabled');
      } else {
        btn.addEventListener('click', () => {
          window.location.href = 'https://example.com'; // example link
          localStorage.setItem(key, JSON.stringify({ claimedAt: Date.now() }));
          setTimeout(() => renderTasks(containerId, taskArray, type), 1000);
        });
      }
      div.innerHTML = `<span>${task.name}</span>`;
      div.appendChild(btn);
      container.appendChild(div);
    });
  }

  renderTasks('daily-tasks', tasks, 'daily');
  renderTasks('missions', missions, 'mission');
</script>

</body>
</html>

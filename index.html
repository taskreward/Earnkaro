<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>SkillMint — Login & Courses</title>
<meta name="description" content="SkillMint — Learn skills, enroll in bundles, and track progress." />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --mint:#3EB489; --teal:#2CA58D; --muted:#7b8088; --card:#ffffff; --bg:#f6faf8;
}
html,body{height:100%}
body{
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg); color:#0f1720;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.app-wrapper{max-width:920px; margin:0 auto; padding:18px;}
.hero-illustration{background:#eaf7f2; border-radius:14px; padding:18px; display:flex; align-items:center; justify-content:center}
.hero-illustration img{max-width:100%; height:auto; border-radius:12px}
.form-card{background:var(--card); border-radius:14px; padding:18px; box-shadow:0 8px 30px rgba(9,10,12,.06);}
.input-icon{width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center; background:#f0f3f2; border-radius:10px; margin-right:10px}
.form-control{border-radius:10px; padding:12px 14px;}
.btn-mint{background:var(--mint); color:#fff; border-radius:10px; padding:10px 16px; font-weight:600}
.btn-ghost{background:transparent; border:1px solid rgba(15,17,32,.06); border-radius:10px; padding:10px 14px}
.h1-hero{font-size:28px; font-weight:700; margin:12px 0}
@media(min-width:768px){ .h1-hero{font-size:34px} }
.bundle-card{border-radius:14px; overflow:hidden; background:#fff; box-shadow:0 10px 30px rgba(11,12,13,.06); border:1px solid rgba(9,10,12,.02); cursor:pointer;}
.bundle-card img{width:100%; height:140px; object-fit:cover}
.rating-stars{color:#f6b400}
.bundle-selected{border:2px solid var(--mint);}
footer .muted{color:var(--muted); font-size:14px}
.gap-12{gap:12px}
.mt-18{margin-top:18px}
.rounded-12{border-radius:12px}
@media(min-width:992px){
  .hero-grid{display:grid; grid-template-columns:1fr 420px; gap:22px; align-items:start}
  .hero-illustration img{height:260px; object-fit:cover}
}
.sticky-cta{position:sticky; bottom:16px; z-index:60}
</style>
</head>
<body>
<div class="app-wrapper">

<!-- NAV -->
<nav class="d-flex align-items-center justify-content-between mb-3">
  <div class="d-flex align-items-center gap-3">
    <img src="https://iili.io/KYq1yTG.jpg" alt="SkillMint Logo" style="width:60px; height:60px; object-fit:cover; display:block;">
    <div style="margin-left:12px;">
      <div style="font-weight:400; font-size:28px; color:#2C3E50; letter-spacing:0.5px; font-family: 'Inter', sans-serif;">
        SkillMint
      </div>
      <small class="text-muted" style="font-style:italic;">Mint your skills. Grow your future.</small>
    </div>
  </div>
  <div class="d-none d-md-flex gap-2">
    <a href="#" class="text-decoration-none text-muted small">Support</a>
    <a href="#" class="text-decoration-none text-muted small">Useful Links</a>
    <a href="#" class="text-decoration-none text-muted small">About</a>
  </div>
</nav>

<main id="view-container">

<!-- LOGIN VIEW -->
<section id="view-login">
  <div class="hero-grid">
    <div>
      <div style="width:100%; height:400px; overflow:hidden; border-radius:12px; margin-bottom:24px;">
        <img src="https://iili.io/KY2w8VR.jpg" alt="4k Students" style="width:100%; height:100%; object-fit:cover; display:block;">
      </div>
      <div class="form-card">
        <div class="mb-2 small text-muted">Welcome back</div>
        <h1 class="h1-hero">Login into SkillMint</h1>
        <p class="text-muted small">Enter your email and password to access your courses.</p>
        <div class="mt-3">
          <div class="mb-3 d-flex gap-2 align-items-center">
            <div class="input-icon"><svg width="18" height="18" viewBox="0 0 24 24"><path fill="#8b949d" d="M20 4H4C2.9 4 2 4.9 2 6v12c0 1.1 .9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z"/></svg></div>
            <input id="loginEmail" class="form-control" placeholder="E-Mail Id" type="email" />
          </div>
          <div class="mb-3 d-flex gap-2 align-items-center">
            <div class="input-icon"><svg width="18" height="18" viewBox="0 0 24 24"><path fill="#8b949d" d="M12 17a2 2 0 110-4 2 2 0 010 4zm6-7h-1V8a5 5 0 10-10 0v2H6c-1.1 0-2 .9-2 2v7c0 1.1 .9 2 2 2h12c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2z"/></svg></div>
            <input id="loginPassword" class="form-control" placeholder="Password" type="password" />
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="form-check">
              <input class="form-check-input" id="rememberMe" type="checkbox">
              <label class="form-check-label small text-muted" for="rememberMe">Remember me</label>
            </div>
            <a href="#" id="forgotLink" class="small text-muted">Forgot password?</a>
          </div>
          <div class="d-grid">
            <button id="btnLogin" class="btn btn-mint">Login</button>
          </div>
          <div class="text-center mt-3 small">
            Don't have an account? <a href="#" id="goSignup">Signup</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- BUNDLE SELECTION VIEW -->
<section id="view-bundles-selection" style="display:none">
  <h2 style="font-weight:700">Choose Your Bundles</h2>
  <div class="row g-3 mt-3" id="bundlesGrid"></div>
  <div class="mt-3">
    <button id="proceedSignup" class="btn btn-mint">Proceed to Signup</button>
  </div>
</section>

<!-- SIGNUP VIEW -->
<section id="view-signup" style="display:none">
  <div class="form-card mt-3">
    <h2 style="font-weight:700">Complete Signup</h2>
    <form id="signupForm" class="mt-3">
      <div class="mb-3"><input id="suUsername" class="form-control" placeholder="Username" required /></div>
      <div class="mb-3"><input id="suEmail" type="email" class="form-control" placeholder="E-Mail Id" required /></div>
      <div class="mb-3"><input id="suPassword" type="password" class="form-control" placeholder="Password (min 8 chars)" minlength="8" required /></div>
      <div class="mb-3"><input id="suPhone" class="form-control" placeholder="+91 | Phone" /></div>
      <div class="mb-3"><input id="suDob" type="date" class="form-control" placeholder="Date of Birth" /></div>
      <div class="mb-3">
        <select id="suState" class="form-control">
          <option value="">Select State</option>
          <option>Delhi</option>
          <option>Maharashtra</option>
          <option>Uttar Pradesh</option>
          <option>Karnataka</option>
          <option>Tamil Nadu</option>
        </select>
      </div>
      <div class="mb-3"><input id="suRef" class="form-control" placeholder="Referral Code" /></div>
      <div class="mb-3">
        <strong>Total Price:</strong> ₹<span id="selectedPrice">0</span>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="agreeTerms" required>
        <label class="form-check-label" for="agreeTerms">I agree with Terms & Conditions & Refund Policy</label>
      </div>
      <div class="d-grid mt-2">
        <button class="btn btn-mint" type="submit">Signup & Pay</button>
      </div>
      <div class="text-center mt-3 small">
        Already have an account? <a href="#" id="goLogin2">Sign in here</a>
      </div>
    </form>
  </div>
</section>

<!-- PAYMENT POPUP -->
<section id="view-payment" style="display:none">
  <div class="form-card mt-3 text-center">
    <img src="https://iili.io/KYq1yTG.jpg" alt="SkillMint" style="width:80px;height:80px;margin-bottom:12px;">
    <h3>SkillMint Payment</h3>
    <p>Total Amount: ₹<span id="payAmount">0</span></p>
    <div style="width:200px; height:200px; margin:0 auto; border-radius:12px; background-image:url('https://i.ibb.co/V7r9xwf/Screenshot-2025-09-22-20-59-15-60-4336b74596784d9a2aa81f87c2016f50.jpg'); background-size:cover; background-position:center;"></div>
    <div class="mt-3 text-start small text-muted">
      <p>1. Open your UPI app.</p>
      <p>2. Scan the QR code above or pay to the given account.</p>
      <p>3. Take a screenshot of your payment confirmation.</p>
      <p>4. Note your 12-digit UTR/UPI reference number.</p>
    </div>
    <button id="payNow" class="btn btn-mint mt-2">Pay Now</button>
  </div>
</section>

<!-- UTR VERIFICATION VIEW -->
<section id="view-utr" style="display:none">
  <div class="form-card mt-3">
    <h3>Payment Voucher</h3>
    <p>UTR/UPI Ref No is 12-digit number. Upload payment screenshot.</p>
    <form id="utrForm">
      <div class="mb-3"><input type="text" id="utrNumber" class="form-control" placeholder="UTR/UPI Ref No" required /></div>
      <div class="mb-3"><input type="file" id="utrFile" class="form-control" accept="image/*" required /></div>
      <div class="mb-3">Time remaining: <span id="utrTimer">04:00</span></div>
      <div class="d-grid mt-2">
        <button class="btn btn-mint" type="submit">Submit</button>
      </div>
    </form>
  </div>
</section>

<!-- DASHBOARD -->
<section id="view-dashboard" style="display:none">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Your Dashboard</h2>
    <div class="dropdown">
      <button class="btn btn-light" id="dashboardMenuBtn" data-bs-toggle="dropdown" aria-expanded="false">
        <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#000" d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>
      </button>
      <ul class="dropdown-menu dropdown-menu-end p-3" style="min-width:300px;">
        <li class="mb-3">
          <strong>Your Courses</strong>
          <div id="dashboardCourses" class="mt-2"></div>
        </li>
      </ul>
    </div>
  </div>
  <div id="dashboardContent">
    <p>Welcome! Explore your courses and referral earnings.</p>
  </div>
</section>

</main>

<footer class="mt-5 text-center">
  <p class="muted">SkillMint © 2025. All rights reserved.</p>
</footer>

<script>
const state={
  bundles:[
    {id:1,title:'Fullstack Development',img:'https://iili.io/KY1qJrn.jpg',price:4999},
    {id:2,title:'UI/UX Design',img:'https://iili.io/KY1qJrn.jpg',price:2999},
    {id:3,title:'Data Science',img:'https://iili.io/KY1qJrn.jpg',price:3999},
    {id:4,title:'Digital Marketing',img:'https://iili.io/KY1qJrn.jpg',price:1999}
  ],
  selectedBundles:[],
  userKey:'currentUser'
};

const discountCodes = ['REF50A','REF50B','REF50C'];
const discountPercent = 50;

function showView(id){
  document.querySelectorAll('#view-container > section').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='block';
}

function renderBundles(){
  const grid=document.getElementById('bundlesGrid');
  grid.innerHTML='';
  state.bundles.forEach(b=>{
    const col=document.createElement('div');
    col.className='col-6 col-md-3';
    col.innerHTML=`<div class="bundle-card" data-id="${b.id}">
      <img src="${b.img}" alt="${b.title}">
      <div class="p-3">
        <h5>${b.title}</h5>
        <div>₹${b.price}</div>
      </div>
    </div>`;
    col.querySelector('.bundle-card').addEventListener('click',()=>{
      if(state.selectedBundles.includes(b.id)){
        state.selectedBundles=state.selectedBundles.filter(x=>x!==b.id);
        col.querySelector('.bundle-card').classList.remove('bundle-selected');
      }else{
        state.selectedBundles.push(b.id);
        col.querySelector('.bundle-card').classList.add('bundle-selected');
      }
      updateSelectedPrice();
    });
    grid.appendChild(col);
  });
}

function updateSelectedPrice(){
  let totalPrice = state.selectedBundles.reduce((sum,id)=>{
    const bnd=state.bundles.find(x=>x.id===id); 
    return sum + (bnd ? bnd.price : 0);
  },0);
  const enteredRef = document.getElementById('suRef') ? document.getElementById('suRef').value.trim().toUpperCase() : '';
  if(discountCodes.includes(enteredRef)) totalPrice = totalPrice * (1 - discountPercent/100);
  document.getElementById('selectedPrice').textContent = totalPrice;
}

function renderDashboardMenu(){
  const coursesDiv=document.getElementById('dashboardCourses');
  const user=JSON.parse(localStorage.getItem(state.userKey)||'null');
  if(!user || !user.enrolledBundles){coursesDiv.innerHTML='<p>No courses yet</p>'; return;}
  coursesDiv.innerHTML='';
  user.enrolledBundles.forEach(id=>{
    const bnd=state.bundles.find(x=>x.id===id);
    if(bnd){
      const div=document.createElement('div');
      div.textContent=bnd.title;
      div.style.padding='4px 0';
      coursesDiv.appendChild(div);
    }
  });
}

// UTR Timer
let utrTimerInterval=null;
function startUTRTimer(durationSec){
  let timer=durationSec;
  const timerEl=document.getElementById('utrTimer');
  clearInterval(utrTimerInterval);
  utrTimerInterval=setInterval(()=>{
    const m=Math.floor(timer/60);
    const s=timer%60;
    timerEl.textContent=`${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    if(timer<=0){clearInterval(utrTimerInterval);}
    timer--;
  },1000);
}

// AUTO LOGIN CHECK
window.addEventListener('DOMContentLoaded',()=>{
  const user=JSON.parse(localStorage.getItem(state.userKey)||'null');
  if(user && user.enrolledBundles){ // Paid user
    showView('view-dashboard'); renderDashboardMenu();
  }else if(user){ // Signed up but not paid
    state.selectedBundles=user.bundles||[];
    document.getElementById('suUsername').value=user.username||'';
    document.getElementById('suEmail').value=user.email||'';
    document.getElementById('suPassword').value=user.password||'';
    document.getElementById('suPhone').value=user.phone||'';
    document.getElementById('suDob').value=user.dob||'';
    document.getElementById('suState').value=user.state||'';
    document.getElementById('suRef').value=user.ref||'';
    updateSelectedPrice();
    showView('view-payment');
  }else{
    showView('view-login');
  }
});

// Event listeners
document.getElementById('goSignup').addEventListener('click',()=>{showView('view-bundles-selection'); renderBundles();});
document.getElementById('proceedSignup').addEventListener('click',()=>{showView('view-signup'); updateSelectedPrice();});
document.getElementById('goLogin2').addEventListener('click',()=>{showView('view-login');});
document.getElementById('btnLogin').addEventListener('click',()=>{
  const email=document.getElementById('loginEmail').value;
  const pass=document.getElementById('loginPassword').value;
  const stored=JSON.parse(localStorage.getItem(state.userKey)||'null');
  if(stored && stored.email===email && stored.password===pass){
    if(stored.enrolledBundles){ showView('view-dashboard'); renderDashboardMenu();}
    else showView('view-payment');
    alert('Login successful');
  }else alert('Invalid credentials');
});

// Signup + Discount
document.getElementById('signupForm').addEventListener('submit',e=>{
  e.preventDefault();
  const user={
    username:document.getElementById('suUsername').value,
    email:document.getElementById('suEmail').value,
    password:document.getElementById('suPassword').value,
    phone:document.getElementById('suPhone').value,
    dob:document.getElementById('suDob').value,
    state:document.getElementById('suState').value,
    ref:document.getElementById('suRef').value,
    bundles:[...state.selectedBundles]
  };
  localStorage.setItem(state.userKey,JSON.stringify(user));
  
  let totalPrice = state.selectedBundles.reduce((sum,id)=>{
    const bnd=state.bundles.find(x=>x.id===id); return sum+(bnd?bnd.price:0);
  },0);
  if(discountCodes.includes(user.ref.trim().toUpperCase())){
    totalPrice = totalPrice * (1 - discountPercent/100);
  }
  document.getElementById('payAmount').textContent = totalPrice;
  
  showView('view-payment');
});

// Pay Now → UTR
document.getElementById('payNow').addEventListener('click',()=>{
  showView('view-utr');
  startUTRTimer(4*60);
});

// UTR Verification
document.getElementById('utrForm').addEventListener('submit',e=>{
  e.preventDefault();
  const user=JSON.parse(localStorage.getItem(state.userKey)||'null');
  if(user){
    user.enrolledBundles=user.bundles;
    localStorage.setItem(state.userKey,JSON.stringify(user));
  }
  showView('view-dashboard');
  renderDashboardMenu();
  alert('Payment verified! Welcome to SkillMint');
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
